<div style="width:100%;height:60px;background:white;display:flex">
    <div style="width:80%"></div>
    <div style="display:flex; align-items: center;">
        <button pButton (click)="display=true" icon="fa fa-pencil-square-o" label="新建房间"></button>
    </div>
</div>

<p-dataList [value]="room_list" [paginator]="true" [rows]="5">
    <ng-template let-room pTemplate="item">
        <div class="ui-g ui-fluid car-item">
            <div class="ui-g-12 ui-md-3" style="text-align:center" class="head">
                <img class="icon-head" src="assets/img/head/{{room.id}}.jpeg">
            </div>
            <div class="ui-g-12 ui-md-9 ">
                <div class="ui-g">
                    <div class="ui-g-12 ">
                        <a href="#" (click)="gotoRoom($event,room)">
                            <h1>{{room.name}}</h1>
                        </a>
                    </div>

                    <div class="ui-g-2 ui-sm-6">群主: </div>
                    <div class="ui-g-2 ui-sm-6">{{room.year}}</div>

                    <div class="ui-g-2 ui-sm-6">权限: </div>
                    <div class="ui-g-2 ui-sm-6">{{room.brand}}</div>

                    <div class="ui-g-2 ui-sm-6">创建时间: </div>
                    <div class="ui-g-2 ui-sm-6">{{room.create_date|date:'yyyy-MM-dd HH:mm'}}</div>
                </div>
            </div>
        </div>
    </ng-template>
</p-dataList>


<p-dialog header="新建房间" [(visible)]="display" modal="modal" width="500" [responsive]="true">
    <div class="ui-g">
        <div class="ui-g-4">
            <label>房间名称</label>
        </div>
        <div class="ui-g-8">
            <input pInputText [(ngModel)]='room.name' style="width:100%" />
        </div>
    </div>
    <div class="ui-g">
        <div class="ui-g-4">
            <label>人数上限</label>
        </div>
        <div class="ui-g-8">
            <input pInputText type="number" [(ngModel)]='room.upperlimit' style="width:100%" />
        </div>
    </div>
    <div class="ui-g" *ngIf="isPassword">
        <div class="ui-g-4">
            <label>密码</label>
        </div>
        <div class="ui-g-8">
            <input pInputText type="password" [(ngModel)]='room.password' style="width:100%" />
        </div>
    </div>
    <div class="ui-g">
        <div class="ui-g-6">
        <p-checkbox [(ngModel)]="isPassword" [(ngModel)]='room.isPassword' binary="true"></p-checkbox>
        <label>是否加密</label>
        </div>
    </div>
    <p-footer>
        <button type="button" pButton icon="fa-check" (click)="addRoom()" label="确认"></button>
        <button type="button" pButton icon="fa-close" (click)="cancel()" label="取消"></button>
    </p-footer>
</p-dialog>